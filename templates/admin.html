{% extends 'base.html' %}
{% block content %}
<h2 class="mb-4">Admin Management System</h2>

<ul class="nav nav-tabs" id="adminTabs" role="tablist">
  <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#tab-employees">Employees</a></li>
  <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tab-branches">Branches</a></li>
  <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tab-customers">Customers</a></li>
  <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tab-accounts">Accounts</a></li>
  <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tab-transactions">Transactions</a></li>
  <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tab-subtypes">Account Subtypes</a></li>
</ul>

<div class="tab-content mt-3">
  
  <div class="tab-pane fade show active" id="tab-employees">
    <h4>Employee List</h4>
    <table class="table table-striped table-sm">
      <thead><tr><th>ESSN</th><th>Name</th><th>Branch</th><th>Manager</th></tr></thead>
      <tbody>
        {% for row in data.employees %}
        <tr><td>{{ row.ESSN }}</td><td>{{ row.FName }} {{ row.LName }}</td><td>{{ row.BranchID }}</td><td>{{ row.ManagerSSN }}</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="tab-pane fade" id="tab-branches">
    <h4>Branches</h4>
    <table class="table table-striped table-sm">
      <thead><tr><th>ID</th><th>Name</th><th>City</th><th>Manager SSN</th></tr></thead>
      <tbody>
        {% for row in data.branches %}
        <tr><td>{{ row.BranchID }}</td><td>{{ row.Name }}</td><td>{{ row.City }}</td><td>{{ row.ManagerSSN }}</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="tab-pane fade" id="tab-customers">
    <h4>Registered Customers</h4>
    <table class="table table-striped table-sm">
      <thead><tr><th>CSSN</th><th>Name</th><th>City</th><th>Branch</th></tr></thead>
      <tbody>
        {% for row in data.customers %}
        <tr><td>{{ row.CSSN }}</td><td>{{ row.FName }} {{ row.LName }}</td><td>{{ row.City }}</td><td>{{ row.AssociatedBranch }}</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="tab-pane fade" id="tab-accounts">
    <h4>Base Accounts</h4>
    <table class="table table-striped table-sm">
      <thead><tr><th>Acc #</th><th>Type</th><th>Balance</th><th>Last Access</th></tr></thead>
      <tbody>
        {% for row in data.accounts %}
        <tr><td>{{ row.AccountNum }}</td><td>{{ row.AccountType }}</td><td>${{ row.Balance }}</td><td>{{ row.LastAccessDate }}</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="tab-pane fade" id="tab-transactions">
    <h4>Full Transaction List</h4>
    <table class="table table-striped table-sm">
      <thead><tr><th>Code</th><th>Type</th><th>Amount</th><th>Acc #</th><th>Date</th></tr></thead>
      <tbody>
        {% for row in data.transactions %}
        <tr><td>{{ row.Code }}</td><td>{{ row.Type }}</td><td>${{ row.Amount }}</td><td>{{ row.AccntNum }}</td><td>{{ row.TransactionDate }}</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="tab-pane fade" id="tab-subtypes">
    <h4>Account Detailed Data</h4>
    <div class="row">
        <div class="col-md-6 mb-4">
            <h6>Savings (Rates)</h6>
            <table class="table table-bordered table-sm">
                <thead><tr><th>Acc #</th><th>Rate</th></tr></thead>
                <tbody>{% for r in data.savings %}<tr><td>{{r.AccountNum}}</td><td>{{r.FixedRate}}</td></tr>{% endfor %}</tbody>
            </table>
        </div>
        <div class="col-md-6 mb-4">
            <h6>Checking (Overdrafts)</h6>
            <table class="table table-bordered table-sm">
                <thead><tr><th>Acc #</th><th>Overdrafts</th></tr></thead>
                <tbody>{% for r in data.checking %}<tr><td>{{r.AccountNum}}</td><td>{{r.Overdrafts}}</td></tr>{% endfor %}</tbody>
            </table>
        </div>
        <div class="col-md-6 mb-4">
            <h6>Money Market</h6>
            <table class="table table-bordered table-sm">
                <thead><tr><th>Acc #</th><th>Var Rate</th></tr></thead>
                <tbody>{% for r in data.moneymarket %}<tr><td>{{r.AccountNum}}</td><td>{{r.VarRate}}</td></tr>{% endfor %}</tbody>
            </table>
        </div>
        <div class="col-md-6 mb-4">
            <h6>Loans</h6>
            <table class="table table-bordered table-sm">
                <thead><tr><th>Acc #</th><th>Amount</th><th>Monthly</th></tr></thead>
                <tbody>{% for r in data.loans %}<tr><td>{{r.AccountNum}}</td><td>${{r.Amount}}</td><td>${{r.MonthlyPayment}}</td></tr>{% endfor %}</tbody>
            </table>
        </div>
    </div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}